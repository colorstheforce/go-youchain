// Copyright 2020 YOUCHAIN FOUNDATION LTD.
// Copyright 2016 The go-ethereum Authors
// This file is part of the go-ethereum library.
//
// The go-ethereum library is free software: you can redistribute it and/or modify
// it under the terms of the GNU Lesser General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// The go-ethereum library is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
// GNU Lesser General Public License for more details.
//
// You should have received a copy of the GNU Lesser General Public License
// along with the go-ethereum library. If not, see <http://www.gnu.org/licenses/>.

package common

import "testing"

func BenchmarkCompress(b *testing.B) {
	data := Hex2Bytes("f903aba00102030405060708091011121314151617181920212223242526272829303132940000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000a093c8769207fcd07d64de905741a760beb2c644a5d74a331bbfade43ce680384ba056e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421b90100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008082271080808080b901d80000000000000000000000000000000000000000000000000000000000000000f901b582271001a00100000000000000000000000000000000000000000000000000000000000000b881d2fd3c2228a5ddfe8eb4901aef499cb8fd82cd070809d5ea5ebb1a939a914cacef0bc6504b7a0f51c8172ab775b93c47f499cb65a585261b8ea790c12b84002e04b22d8177e443c31eaa463f60255a78e4d8870657185f85df50c53ab39bc05977e58085b42b59e6fd45cbbef442c38bcaafa7a6add9eebe0614e8f049a4bfbb6aa052adfaaa22442ac51b8b9e2641ec6541a1dbcb832f043ed190c59aefd9f58cfbb881d2fd3c2228a5ddfe8eb4901aef499cb8fd82cd070809d5ea5ebb1a939a914cacef0bc6504b7a0f51c8172ab775b93c47f499cb65a585261b8ea790c12b84002e04b22d8177e443c31eaa463f60255a78e4d8870657185f85df50c53ab39bc05977e58085b42b59e6fd45cbbef442c38bcaafa7a6add9eebe0614e8f049a4bfbb6aa002c11e27942b8dbef68719d72c39232c7966690e42b5be4026e87305ecf1be5a01b841bb3859b65384a95129074c5b2fd6597f0eb44223dab717d8c6b9a062783f02102d38f82a3b3fd76248085d4b451cb1e8aeffafc768a53b7f60dc5308e3081118011a8207d08080a087c71741b903194ab0eb0bd581d5c522f0328e979f3c1bf29f6068bd2797fdf8880000000000000000")
	b.ResetTimer()
	for i := 0; i < b.N; i++ {
		_, err := Compress(data)
		if err != nil {
			b.Fatal(err)
		}
	}
}

func BenchmarkDecompress(b *testing.B) {
	data := Hex2Bytes("ff17f903aba0010203040506070809101112131415161718192021222324252627282930313294000100001fa0140000090200f935a093c8769207fcd07d64de905741a760beb2c644a5d74a331bbfade43ce680384ba056e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421b90151000f0200e1bf8082271080808080b901d8ff000d9ff901b582271001a00129000cff95b881d2fd3c2228a5ddfe8eb4901aef499cb8fd82cd070809d5ea5ebb1a939a914cacef0bc6504b7a0f51c8172ab775b93c47f499cb65a585261b8ea790c12b84002e04b22d8177e443c31eaa463f60255a78e4d8870657185f85df50c53ab39bc05977e58085b42b59e6fd45cbbef442c38bcaafa7a6add9eebe0614e8f049a4bfbb6aa052adfaaa22442ac51b8b9e2641ec6541a1dbcb832f043ed190c59aefd9f58cfba40071f08502c11e27942b8dbef68719d72c39232c7966690e42b5be4026e87305ecf1be5a01b841bb3859b65384a95129074c5b2fd6597f0eb44223dab717d8c6b9a062783f02102d38f82a3b3fd76248085d4b451cb1e8aeffafc768a53b7f60dc5308e3081118011a8207d08080a087c71741b903194ab0eb0bd581d5c522f0328e979f3c1bf29f6068bd2797fdf8880000000000000000")
	b.ResetTimer()
	for i := 0; i < b.N; i++ {
		_, err := Decompress(data, 942)
		if err != nil {
			b.Fatal(err)
		}
	}
}
